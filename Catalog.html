<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalog</title>

    <!-- Tab Icon -->
    <link rel="icon" href="Assets/HF Rockstar Emblem.png" type="image/png">

    <!-- Flowbite CSS -->
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">   

</head>
<body class="overflow-x-hidden">

<!-- == NavBar Start == -->
<section id="NavBarContainer">

</section>
<!-- == NavBar End == -->

<!-- == Product Start == -->
<section class="bg-stone-50 pt-28 py-8 antialiased md:pt-32 sm:pt-28">
    <div class="mx-auto max-w-screen-xl px-4 2xl:px-0">   

      <!-- Heading -->
      <div class="py-8 max-w-screen-xl text-center">
         <h1 class="mb-4 text-5xl font-extrabold tracking-tight leading-none text-zinc-900">Browse Our Catalog</h1>
        <p class="my-4 text-lg font-normal text-stone-700 lg:text-xl whitespace-pre-line">Each piece is a canvas of <span class="underline decoration-red-600 italic">creativity</span>.
                   Let the world know you're part of the crew that turns the <span class="font-bold text-stone-950">grind into glory.</span></p>     

         <!-- Filter -->
         <div>                    
            <button id="filterDropdownButton1" data-dropdown-toggle="dropdownFilter1" type="button"  class="flex w-full items-center justify-center rounded-xl border-b-4 mx-auto mt-5 border-red-600 bg-white px-6 py-2.5 text-sm font-medium text-gray-900 hover:bg-stone-100 hover:text-zinc-900 focus:z-10 focus:outline-none focus:ring-4 focus:ring-red-600 sm:w-auto transition-all delay-10 duration-50 border-b-4 border-red-600 hover:border-2 hover:scale-105">
              <svg class="-ms-0.5 me-2 h-5 w-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18.796 4H5.204a1 1 0 0 0-.753 1.659l5.302 6.058a1 1 0 0 1 .247.659v4.874a.5.5 0 0 0 .2.4l3 2.25a.5.5 0 0 0 .8-.4v-7.124a1 1 0 0 1 .247-.659l5.302-6.059c.566-.646.106-1.658-.753-1.658Z" />
              </svg>
              Filter
              <svg class="-me-0.5 ms-2 h-4 w-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7" />
              </svg>
            </button>
            <div id="dropdownFilter1" class="z-50 hidden w-80 divide-y divide-gray-100 rounded-lg bg-stone-50 shadow sm:w-60 border border-zinc-950 " >
              <ul class="p-2 mt-1 text-left text-sm font-medium text-zinc-950" aria-labelledby="fitlerDropdownButton">

                <li>
                    <a href="#" id="ShowTshirtsButton" class="flex items-center px-4 py-2 hover:bg-red-600 hover:text-stone-50 rounded-md">
                        <i class="fa-solid fa-t-shirt mr-2" alt="T-Shirts"></i>
                        T-Shirts
                    </a>
                </li>
                <li>
                    <a href="#" id="ShowShortsButton" class="flex items-center px-4 py-2 hover:bg-red-600 hover:text-stone-50 rounded-md">
                        <img src="https://img.icons8.com/?size=100&id=10179&format=png&color=000000" class="h-4 w-4 mr-2" alt="Pants Icon">
                        Bottoms
                    </a>
                </li>                    

              </ul>

              <div class="p-2">                                                                  
                <a href="#" id="ShowAllProducts" class="block px-4 py-2 text-sm font-bold border border-zinc-300 text-zinc-950 hover:bg-red-600 hover:text-stone-50 rounded-md">All Products</a>
              </div>
              
      </div>
                
    </div>
</div>

<div class="container mx-auto pb-8">
  <div class="grid grid-cols-1 md:grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-4" id="ProductContainer">    
            <!-- Populated with Load__Featured.js --> 
       
  </div>
</section>
<!-- == Product End == -->


<section id="FooterContainer" >
  
</section>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Flowbite JS -->
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.js"></script>
    
    <!-- Local JavaScript -->
    <script src="JavaScript/Products__Storage.js"></script>
    <script src="JavaScript/Navigation Bar.js"></script>
    <script src="JavaScript/Footer.js"></script> 
    <script src="JavaScript/Populate.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
          const productContainer = document.getElementById('ProductContainer');
             // Update cart badge and dropdown on load
            updateCartBadge();
            updateCartDropdown();
        });
      
    function addToCart(productName, price, imageURL) {
        const cartItems = JSON.parse(localStorage.getItem('ShoppingBag')) || [];
        const existingItem = cartItems.find(item => item.productName === productName);

        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cartItems.push({ productName, price, quantity: 1, imageURL });
        }

        localStorage.setItem('ShoppingBag', JSON.stringify(cartItems));
        updateCartBadge();
        updateCartDropdown();
        animateAddToCart();
        showConfirmationModal();
    }


    function removeFromCart(productName) {
        let cartItems = JSON.parse(localStorage.getItem('ShoppingBag')) || [];
        const itemIndex = cartItems.findIndex(item => item.productName === productName);

        if (itemIndex !== -1) {
            if (cartItems[itemIndex].quantity > 1) {
                cartItems[itemIndex].quantity -= 1;
            } else {
                cartItems.splice(itemIndex, 1);
            }
        }

        localStorage.setItem('ShoppingBag', JSON.stringify(cartItems));
        updateCartBadge();
        updateCartDropdown();
    }   

    function updateCartBadge() {
        const cartItems = JSON.parse(localStorage.getItem('ShoppingBag')) || [];
        const itemCount = cartItems.reduce((count, item) => count + item.quantity, 0);
        document.getElementById('cartItemCount').textContent = itemCount;
    }
    function updateCartDropdown() {
    const cartItems = JSON.parse(localStorage.getItem('ShoppingBag')) || [];
    const cartItemsList = document.getElementById('cartItemsList');
    const cartTotalPrice = document.getElementById('cartTotalPrice');
    cartItemsList.innerHTML = '';

    if (cartItems.length === 0) {
        const noItems = document.createElement('li');
        noItems.className = 'px-4 py-2 text-sm';
        noItems.textContent = 'No items in cart';
        cartItemsList.appendChild(noItems);
        cartTotalPrice.textContent = '0';
    } else {
        let totalPrice = 0;
        cartItems.forEach(item => {
            totalPrice += item.price * item.quantity;
            const li = document.createElement('li');
            li.className = 'px-4 py-2 text-sm flex items-center';
            li.innerHTML = `
                <img src="${item.imageURL}" alt="${item.productName}" class="w-16 h-16 object-cover mr-2">
                <div class="flex-1 flex justify-between items-center">
                    <span>${item.productName}</span>
                    <div class="flex items-center">
                        <button onclick="decrementQuantity('${item.productName}')" class="text-red-600 hover:text-red-800 transition-all mx-2">-</button>
                        <span>${item.quantity}</span>
                        <button onclick="incrementQuantity('${item.productName}')" class="text-green-600 hover:text-green-800 transition-all mx-2">+</button>
                        <span class="ml-2">â‚±${item.price}</span>
                        <button onclick="removeFromCart('${item.productName}')" class="ml-2 text-red-600 hover:text-red-800 transition-all">Remove</button>
                    </div>
                </div>
            `;
            cartItemsList.appendChild(li);
        });
        cartTotalPrice.textContent = totalPrice.toFixed(2);
    }
}




    function incrementQuantity(productName) {
        const cartItems = JSON.parse(localStorage.getItem('ShoppingBag')) || [];
        const existingItem = cartItems.find(item => item.productName === productName);

        if (existingItem) {
            existingItem.quantity += 1;
        }

        localStorage.setItem('ShoppingBag', JSON.stringify(cartItems));
        updateCartBadge();
        updateCartDropdown();
    }

    function decrementQuantity(productName) {
        const cartItems = JSON.parse(localStorage.getItem('ShoppingBag')) || [];
        const existingItem = cartItems.find(item => item.productName === productName);

        if (existingItem && existingItem.quantity > 1) {
            existingItem.quantity -= 1;
        } else {
            removeFromCart(productName);
        }

        localStorage.setItem('ShoppingBag', JSON.stringify(cartItems));
        updateCartBadge();
        updateCartDropdown();
    }

    function animateAddToCart() {
        const cartButton = document.getElementById('myCartDropdownButton1');
        cartButton.classList.add('animate-bounce');
        setTimeout(() => {
            cartButton.classList.remove('animate-bounce');
        }, 500);
    }

    function showConfirmationModal() {
        const confirmationModal = document.getElementById('confirmationModal');
        confirmationModal.classList.remove('hidden');

        setTimeout(() => {
            confirmationModal.classList.add('hidden');
        }, 2000);
    }

    function closeModal() {
        document.getElementById('confirmationModal').classList.add('hidden');
    }

    // Close the dropdown if clicked outside
        window.addEventListener('click', (e) => {
        const cartButton = document.getElementById('myCartDropdownButton1');
        const cartDropdown = document.getElementById('myCartDropdown1');
        if (!cartButton.contains(e.target) && !cartDropdown.contains(e.target)) {
            cartDropdown.classList.add('hidden');
        }
    });

    </script>
      

    <!-- Product Image Hver Animation  -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const productImages = document.querySelectorAll('.product-image');
        productImages.forEach(productImage => {
            const defaultImage = productImage.querySelector('.default-image');
            const hoverImage = productImage.querySelector('.hover-image');

            productImage.style.position = 'relative';
            defaultImage.style.transition = 'opacity 0.5s ease-in-out';
            hoverImage.style.transition = 'opacity 0.5s ease-in-out';
            hoverImage.style.position = 'absolute';
            hoverImage.style.top = '0';
            hoverImage.style.left = '0';
            hoverImage.style.opacity = '0';

            productImage.addEventListener('mouseover', () => {
                defaultImage.style.opacity = '0';
                hoverImage.style.opacity = '1';
            });

            productImage.addEventListener('mouseout', () => {
                defaultImage.style.opacity = '1';
                hoverImage.style.opacity = '0';
            });
        });
    });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
        const cartButton = document.getElementById('myCartDropdownButton1');
        const cartDropdown = document.getElementById('myCartDropdown1');
        const cartItemsList = document.getElementById('cartItemsList');
    
        cartButton.addEventListener('click', () => {
            cartDropdown.classList.toggle('hidden');
            updateCartDropdown();
        });
    
        function updateCartDropdown() {
            const cartItems = JSON.parse(localStorage.getItem('ShoppingBag')) || [];
            cartItemsList.innerHTML = '';
    
            if (cartItems.length === 0) {
            const noItems = document.createElement('li');
            noItems.className = 'px-4 py-2 text-sm';
            noItems.textContent = 'No items in cart';
            cartItemsList.appendChild(noItems);
            } else {
            cartItems.forEach(item => {
                const li = document.createElement('li');
                li.className = 'px-4 py-2 text-sm flex justify-between items-center';
                li.innerHTML = `
                <span>${item.productName}</span>
                <span>${item.quantity} x â‚±${item.price}</span>
                `;
                cartItemsList.appendChild(li);
            });
            }
        }
    
        // Close the dropdown if clicked outside
        window.addEventListener('click', (e) => {
            if (!cartButton.contains(e.target) && !cartDropdown.contains(e.target)) {
            cartDropdown.classList.add('hidden');
            }
        });
        });
    </script>
    
</body>
</html>
