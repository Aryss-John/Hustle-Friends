<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>

    <!-- Tab Icon -->
    <link rel="icon" href="Assets/HF Rockstar Emblem.png" type="image/png">

    <!-- Flowbite CSS -->
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

</head>
<body class="overflow-x-hidden">

<section id="NavBarContainer">

</section>


<section id="FooterContainer">
  
  <!-- Display footer with Footer.js -->
  
</section>






    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Flowbite JS -->
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.js"></script>

    <script src="JavaScript/Navigation Bar.js"></script>

    <script src="JavaScript/Footer.js"></script>

    <script>    

 document.addEventListener('DOMContentLoaded', () => {
      const totalPriceElement = document.getElementById('totalPrice');
      const subtotalPriceElement = document.getElementById('subtotalPrice');
      const totalPrice = localStorage.getItem('totalPrice');
      const subtotalPrice = localStorage.getItem('subtotalPrice'); // Assuming you also store subtotal in localStorage

      if (totalPrice) {
          totalPriceElement.textContent = `₱${totalPrice}`;
      } else {
          totalPriceElement.textContent = 'No items in cart.';
      }

      if (subtotalPrice) {
          subtotalPriceElement.textContent = `₱${subtotalPrice}`;
      } else {
          subtotalPriceElement.textContent = 'No items in cart.';
      }
  });
  
  </script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.querySelector('form');
    const placeOrderButton = document.getElementById('successButton');
    const successModal = document.getElementById('successModal');
    
    // Function to check if all required fields are filled
    const checkFormValidity = () => {
      const inputs = form.querySelectorAll('input[required], select[required], textarea[required]');
      const allFilled = Array.from(inputs).every(input => input.value.trim() !== '');
      placeOrderButton.disabled = !allFilled;
    };

    // Initial check to set button state
    checkFormValidity();

    // Attach input and change event listeners to all required fields
    form.addEventListener('input', checkFormValidity);
    form.addEventListener('change', checkFormValidity);

    // Handle form submission
    form.addEventListener('submit', (event) => {
      event.preventDefault(); // Prevent actual form submission
      
      if (placeOrderButton.disabled) {
        return; // Prevent modal display if the button is disabled
      }

      // Show the modal
      successModal.classList.remove('hidden');

      // Redirect after 3 seconds
      setTimeout(() => {
        window.location.href = 'index.html';
      }, 4000);
    });

    // Handle closing the modal
    const closeModalButton = successModal.querySelector('[data-modal-toggle="successModal"]');
    closeModalButton.addEventListener('click', () => {
      successModal.classList.add('hidden');
    });
  });
</script>


  
</body>
</html>