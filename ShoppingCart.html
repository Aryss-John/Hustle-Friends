  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Your Cart</title>

      <!-- Tab Icon -->
      <link rel="icon" href="Assets/HF Rockstar Emblem.png" type="image/png">

      <!-- Flowbite CSS -->
      <link href="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.css" rel="stylesheet" />   

      <script src="JavaScript/Populate.js"></script>
  </head>
  <body>

    <!-- == NavBar Start == -->
  <section id="NavBarContainer">

  </section>
  <!-- == NavBar End  == -->

  <div class="bg-white py-6 sm:py-8 mt-24 lg:py-12">
    <div class="mx-auto max-w-screen-lg px-4 md:px-8">
      <div class="mb-6 sm:mb-10 lg:mb-16">
        <h2 class="text-center text-2xl font-bold text-zinc-950 md:mb-6 lg:text-3xl">Your Cart</h2>
      </div>
      <div class="mb-5 flex flex-col sm:mb-8 sm:divide-y sm:border-t sm:border-b container" id="CartContainer">
        <!-- Cart items will be dynamically added here -->
        <!-- Cart Start -->

<!-- Cart End -->
      </div>

      <!-- totals - start -->
      <div class="flex flex-col items-end gap-4">
        <div class="w-full rounded-lg bg-gray-100 p-4 sm:max-w-xs">
          <div class="space-y-1">
            <div class="flex justify-between gap-4 text-gray-500">
              <span>Subtotal</span>
              <span>$129.99</span>
            </div>

            <div class="flex justify-between gap-4 text-gray-500">
              <span>Shipping</span>
              <span>$4.99</span>
            </div>
          </div>

          <div class="mt-4 border-t pt-4">
            <div class="flex items-start justify-between gap-4 text-gray-800">
              <span class="text-lg font-bold">Total</span>

              <span class="flex flex-col items-end">
                <span class="text-lg font-bold">$134.98 USD</span>
                <span class="text-sm text-gray-500">including VAT</span>
              </span>
            </div>
          </div>
        </div>
        
        <button class="inline-block rounded-lg bg-red-600 px-8 py-3 text-center text-sm font-semibold text-white outline-none ring-red-500 transition duration-100 hover:bg-red-500 focus-visible:ring active:bg-red-700 md:text-base">Check out</button>
      </div>
      <!-- totals - end -->
    </div>
  </div>

  <section id="FooterContainer">
    <!-- Display footer with Footer.js -->
  </section>

      <!-- Tailwind CSS -->
      <script src="https://cdn.tailwindcss.com"></script>
      <!-- Flowbite JS -->
      <script src="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.js"></script>

      <script src="JavaScript/Products__Storage.js"></script>
      <script src="JavaScript/Navigation Bar.js"></script>
      <script src="JavaScript/Footer.js"></script> 

  <script>

        // Load cart from localStorage when page loads
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function saveCart() {
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    function addToCart(productName, productPrice) {
        const existingItem = cart.find(item => item.name === productName);

        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            const cartItem = { name: productName, price: productPrice, quantity: 1 };
            cart.push(cartItem);
        }

        saveCart();
        renderCart();
        showModal(); // Show the modal after adding to cart
    }

    function removeFromCart(productName) {
        cart = cart.filter(item => item.name !== productName);
        saveCart();
        renderCart();
    }

    function renderCart() {
        const cartContainer = document.getElementById('cart');
        const checkoutContainer = document.getElementById('checkout-container');
        cartContainer.innerHTML = '';

        if (cart.length === 0) {
            cartContainer.innerHTML = '<p class="text-gray-700">No items in cart.</p>';
            checkoutContainer.classList.add('hidden');
            return;
        }

        cart.forEach(item => {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'flex justify-between mb-2 items-center';
            itemDiv.innerHTML = `
                <span>${item.name}</span>
                <span>₱${item.price.toFixed(2)} x ${item.quantity}</span>
                <button onclick="removeFromCart('${item.name}')" class="ml-4 text-red-500">Remove</button>
            `;
            cartContainer.appendChild(itemDiv);
        });

        const total = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);
        const subtotal = total; // Or however you want to calculate it

        const totalDiv = document.createElement('div');
        totalDiv.className = 'flex justify-between mt-4 pt-4 border-t';
        totalDiv.innerHTML = `<strong>Total</strong><strong>₱${total.toFixed(2)}</strong>`;
        cartContainer.appendChild(totalDiv);

        // Store prices in localStorage
        localStorage.setItem('totalPrice', total.toFixed(2));
        localStorage.setItem('subtotalPrice', subtotal.toFixed(2));

        checkoutContainer.classList.remove('hidden');
    }

    function showModal() {
        document.getElementById('successModal').classList.remove('hidden');
    }

    function hideModal() {
        document.getElementById('successModal').classList.add('hidden');
    }

    // Close modal when the close button is clicked
    document.getElementById('closeModal').addEventListener('click', hideModal);

    // Render cart on page load
    renderCart();

  </script>
  
  </body>
  </html>
